{% extends 'layout.html' %}

{% block body %}

<hr>

  <div class="col-lg-12 text-center">
    <div class="card-title">  <b><font size="7" color="black">公私金鑰管理工具</font></b></div>
  </div>
<hr>
<br>

  <div class="container">
     <center>
      <div class="form-inline">

        <div class="col-sm-3">



        </div>
        <div>
          <b>
            <font size="5"> Private_key and Public_key Generator : </font>
          </b>
        </div>
        <div class="col-sm-1">
            <input type="button" class="btn btn-primary btn-lg" value="Key-Pair Generate">
        </div>

       </div>
    </center>
    </div>

    <br>



     <div class="container">
       <div> <b> <font size="5">Public_key : </font></b><b> <font size="5">Give to the receiver !</font></b></div>
        <br>
        <center>
        <div class="row">

           <!--   <div class="col-sm-10"> </div>-->
              <textarea id="public_key" rows="5" class="form-control" readonly></textarea>


        </div>
       </center>
    </div>
    <div class="container">
      <div class="form-inline">

        <div class="col-sm-8">

           <div> <b> <font size="5">Show Private_key : </font></b> <b><font size="5" color="red">Remenber ! Don't send it to others !</font></b> </div>
        </div>
        <div class="col-sm-1">
            <input type="button" id="Private_key" class="btn btn-danger btn-lg" value="Private_key" class="form-control">
        </div>

       </div>
    </div>



<div class="container">
 <!-- <h2>Here is how to load a bootstrap modal as soon as the document is ready </h2>-->
  <!-- Trigger the modal with a button -->


  <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog"  width="100%">
    <div class="modal-dialog">

      <!-- Modal content-->

      <div class="modal-content">
        <div class="modal-header">

         <!--  <button type="button" class="close" data-dismiss="modal">&times;</button>-->
             <h5 class="modal-title"><b>Private key:</b></h5>
            <button type="button" class="close" data-dismiss="modal"><span>&times;</span></button>


        </div>
        <div class="modal-body">
          <p>  <font size="4"><b><font color="red">Caution! Do not give it to others.</font></b> </font></p>

          <div class="col-sm-18">
            <textarea id="private_key_modal" rows="5" class="form-control" readonly></textarea>
          </div>
        </div>
        <center>
             <div class="center">
               <button type="button" class="btn btn-danger btn-lg" data-dismiss="modal">Close</button>
             </div>
        </center>
      </div>

    </div>
  </div>








    <!-- Bootstrap core JavaScript -->
    <script src="/static/vendor/jquery/jquery.min.js"></script>
    <script src="/static/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  </div>

    <script>

      $(function(){
        $('input').click(function(){

          $.ajax({
            url: '/wallet/new',
            type: 'GET',
            success: function(response){
              document.getElementById("public_key").innerHTML = response['public_key'];
             //document.getElementById("private_key").innerHTML = response['private_key'];

              private_key_temp = response['private_key'];
              //document.getElementById("warning").style.display = "block";
            },
            error: function(error){
              console.log(error);
            }
          });
        });
      })


    $("#Private_key").click(function(){

      $("#myModal").modal();
      // private_key_modal.value = private_key.value;
         private_key_modal.value =private_key_temp
     });


    </script>
{% endblock %}
